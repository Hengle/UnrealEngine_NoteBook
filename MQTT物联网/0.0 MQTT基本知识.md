### MQTT基本布局
![[Pasted image 20220413123600.png]]
互联网通常具备性能强大的后端服务器，完全有能力部署Broker，承受百万级别的连接，还可以支持身份认证、动态主题、主题过滤、集群等，尤其是主题的管理，我认为是不可或缺的功能点，ECU可以实现吗？即使可以，我想对性能的挑战也会不小。因此，对于非Autosar的ECU来说，MQTT更多的应用场景是实现 ==MQTT的客户端==，与云端进行通信，可能还需要进行云端消息与车载SOA消息间的转化，从而实现远程控制、远程升级、大数据采集等常见功能。

==Eclipse Mosquito== 是一个开源(EPL/EDL许可)消息代理，它实现了MQTT协议版本5.0、3.1.1和3.1。Mosquito是轻量级的，适用于从低功耗单板机到全服务器的所有设备。
==Eclipse Paho== 以各种编程语言提供了==MQTT客户端的开源(EPL/EDL许可)实现：==
![[Pasted image 20220413124936.png]]
#### 特点：
MQTT是为物联网而生的协议，主要体现在：它比HTTP更加轻量，协议更精简，消息头更短，这些都提高了它的响应时间和吞吐量，并降低了开销和功耗。
==MQTT也有不适用的场景，比如大文件、音视频等，就要考虑其他传输方案了。-==
程序中使==用Mosquittopaho 作为linux 上的MQTT 代理==，而==客户端使用Paho MQTT库==。用起来非常简单，但是有些细节还是值得记录下来。

[[0.1 MQTT消息协议的摘要]]
[[1.0 基本概念（必读）]]
[[1.1 数据表示]]
[[2.0 MQTT控制报文格式]]
[[4.0 操作行为 Operational behavior]]
[[5.0 安全]]
[[6.0 使用WebSocket作为网络层]]
[[7.0 一致性]]


Eclipse Paho MQTT
[[1.0 Eclipse Paho MQTT C++ 客户端库]]
