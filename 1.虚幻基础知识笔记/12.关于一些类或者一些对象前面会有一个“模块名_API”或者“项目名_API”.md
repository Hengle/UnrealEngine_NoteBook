NO_API，在看源码时我就很疑惑它到底是做什么的，而大钊的类型系统系列文章和百度也并未提及。

感谢知乎用户@良嘉嘉在原文章评论区指出了NO_API的作用。
![[Pasted image 20230308143019.png]]

dllexport指的是 语法__declspec(dllexport)。被这个语句包裹住的类，函数，数据，都会被允许暴露给其它的模块。

而XXX_API，指的通常是 模块名_API。

`这个模块名_API的作用主要是导出API，以供在跨模块编程时，另一个模块引用这个模块后调用其方法。如果创建C++类是在虚幻编辑器里做的(且将其添加到public目录)，默认会为你添加这段代码。`
![[Pasted image 20230308143034.png]]

如下图，这是我的一个叫ACT的项目。因此引擎为我自动添加了ACT_API。
![[Pasted image 20230308143049.png]]

但是引擎中的许多类都没有添加标记，两位前辈指出了这一点。
![[Pasted image 20230308143111.png]]
![[Pasted image 20230308143417.png]]

那么，`如果我不是通过引擎来创建类(或者通过引擎创建类时，将其放在private目录)，我也不想让这个类被跨模块引用，因此没有写xxx_API。`UE会怎么指出这一点呢？

没错，答案就是，UHT会使用NO_API来标注出“这个函数/这个类 没有被跨模块引用”。

作者：UnrealStudio https://www.bilibili.com/read/cv13485922/ 出处：bilibili